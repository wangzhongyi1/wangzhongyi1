<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>git 日常使用 | 目录</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="基于vuepress的博客文档">
    
    <link rel="preload" href="/wangzhongyi1/assets/css/0.styles.9c75b076.css" as="style"><link rel="preload" href="/wangzhongyi1/assets/js/app.c4a0ed2e.js" as="script"><link rel="preload" href="/wangzhongyi1/assets/js/2.c8cb3ded.js" as="script"><link rel="preload" href="/wangzhongyi1/assets/js/13.4845467c.js" as="script"><link rel="prefetch" href="/wangzhongyi1/assets/js/10.01890840.js"><link rel="prefetch" href="/wangzhongyi1/assets/js/11.9c613fb3.js"><link rel="prefetch" href="/wangzhongyi1/assets/js/12.28a4f1de.js"><link rel="prefetch" href="/wangzhongyi1/assets/js/3.c720d940.js"><link rel="prefetch" href="/wangzhongyi1/assets/js/4.0984d5df.js"><link rel="prefetch" href="/wangzhongyi1/assets/js/5.a434e9b9.js"><link rel="prefetch" href="/wangzhongyi1/assets/js/6.5681fdb3.js"><link rel="prefetch" href="/wangzhongyi1/assets/js/7.c8654701.js"><link rel="prefetch" href="/wangzhongyi1/assets/js/8.76a24c5b.js"><link rel="prefetch" href="/wangzhongyi1/assets/js/9.a859699c.js">
    <link rel="stylesheet" href="/wangzhongyi1/assets/css/0.styles.9c75b076.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wangzhongyi1/" class="home-link router-link-active"><!----> <span class="site-name">目录</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wangzhongyi1/" class="nav-link">
  Home
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wangzhongyi1/" class="nav-link">
  Home
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/wangzhongyi1/" aria-current="page" class="sidebar-link">大前端团队规划</a></li><li><a href="/wangzhongyi1/devstandard.html" class="sidebar-link">前端开发规范</a></li><li><a href="/wangzhongyi1/checklist.html" class="sidebar-link">前端代码走查CHECKLIST</a></li><li><a href="/wangzhongyi1/gitusage.html" aria-current="page" class="active sidebar-link">git 日常使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wangzhongyi1/gitusage.html#git-基本使用" class="sidebar-link">git 基本使用</a></li><li class="sidebar-sub-header"><a href="/wangzhongyi1/gitusage.html#查看本次修改内容" class="sidebar-link">查看本次修改内容</a></li><li class="sidebar-sub-header"><a href="/wangzhongyi1/gitusage.html#撤销本次修改内容" class="sidebar-link">撤销本次修改内容</a></li><li class="sidebar-sub-header"><a href="/wangzhongyi1/gitusage.html#git-查看分支图" class="sidebar-link">git 查看分支图</a></li><li class="sidebar-sub-header"><a href="/wangzhongyi1/gitusage.html#版本回退" class="sidebar-link">版本回退</a></li><li class="sidebar-sub-header"><a href="/wangzhongyi1/gitusage.html#commit-以后-想撤销" class="sidebar-link">commit 以后，想撤销</a></li><li class="sidebar-sub-header"><a href="/wangzhongyi1/gitusage.html#git-反做某次提交" class="sidebar-link">git 反做某次提交</a></li><li class="sidebar-sub-header"><a href="/wangzhongyi1/gitusage.html#git修改-commit注释" class="sidebar-link">git修改 commit注释</a></li><li class="sidebar-sub-header"><a href="/wangzhongyi1/gitusage.html#git-push-某个特定的commit" class="sidebar-link">git push 某个特定的commit</a></li><li class="sidebar-sub-header"><a href="/wangzhongyi1/gitusage.html#git-合并某个分支的某次-commit" class="sidebar-link">git 合并某个分支的某次 commit</a></li><li class="sidebar-sub-header"><a href="/wangzhongyi1/gitusage.html#git-设置和取消代理" class="sidebar-link">git 设置和取消代理</a></li></ul></li><li><a href="/wangzhongyi1/gitstandard.html" class="sidebar-link">git 提交规范</a></li><li><a href="/wangzhongyi1/gitmergestandard.html" class="sidebar-link">git 分支合并规范</a></li><li><a href="/wangzhongyi1/jscommonerror.html" class="sidebar-link">前端常见报错类型与解决方案</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git-日常使用"><a href="#git-日常使用" class="header-anchor">#</a> git 日常使用</h1> <h2 id="git-基本使用"><a href="#git-基本使用" class="header-anchor">#</a> git 基本使用</h2> <ul><li>在 github 上新建一个仓库</li> <li>在本地使用 <code>git clone xxx</code> 命令拉取远程仓库到本地</li> <li>修改文件后使用 <code>git add xxx</code> 添加更改
<ul><li><code>git add .</code> 添加本次修改的所有文件到暂存区</li> <li><code>git add &lt;filename&gt;</code> 指定本次修改的文件到暂存区</li></ul></li> <li>使用 <code>git commit -m &quot;xxx&quot;</code> 添加本次提交注释</li> <li>使用 <code>git push</code> 推送到远程仓库
<ul><li><code>git push origin main</code> 指定推送到远程的 main 仓库</li> <li><code>git push</code> 实际上是简写
<ul><li><code>gut push -u origin master</code> 推送到远程的 master 仓库，并且记住当前操作</li> <li>下次直接使用 <code>git push</code> 就会自动推送到远程 master 仓库，就不用每次都指定推送的远程仓库了</li></ul></li></ul></li></ul> <h2 id="查看本次修改内容"><a href="#查看本次修改内容" class="header-anchor">#</a> 查看本次修改内容</h2> <ul><li><code>git diff</code></li></ul> <h2 id="撤销本次修改内容"><a href="#撤销本次修改内容" class="header-anchor">#</a> 撤销本次修改内容</h2> <h3 id="未使用-git-add-缓存代码时"><a href="#未使用-git-add-缓存代码时" class="header-anchor">#</a> 未使用 git add 缓存代码时</h3> <ul><li><code>git checkout -- readme.md</code></li></ul> <blockquote><p>本地修改会消失</p></blockquote> <h3 id="已经使用了-git-add-缓存代码时"><a href="#已经使用了-git-add-缓存代码时" class="header-anchor">#</a> 已经使用了 git add 缓存代码时</h3> <ul><li><code>git reset HEAD readme.md</code></li> <li>放弃所有的缓存 <code>git reset HEAD .</code></li></ul> <blockquote><p>此命令用来清除 git 对于文件修改的缓存。仅仅撤出 add 区域，本地修改不会消失</p></blockquote> <h2 id="git-查看分支图"><a href="#git-查看分支图" class="header-anchor">#</a> git 查看分支图</h2> <ul><li><code>git log --graph --decorate --oneline --simplify-by-decoration --all</code></li></ul> <h2 id="版本回退"><a href="#版本回退" class="header-anchor">#</a> 版本回退</h2> <ul><li><code>git reset --hard HEAD^</code> 回退到上一个版本</li> <li>回退到指定版本
<ul><li><code>git log</code> 查看日志，<code>git reflog</code> 查看所有操作的日志</li> <li><code>git reset --hard 版本号</code></li> <li><code>git push -f</code> 强制推送到远程仓库</li></ul></li></ul> <h2 id="commit-以后-想撤销"><a href="#commit-以后-想撤销" class="header-anchor">#</a> commit 以后，想撤销</h2> <h3 id="撤销到-add-状态-即不改变修改的代码-仅仅撤出-commit-区域"><a href="#撤销到-add-状态-即不改变修改的代码-仅仅撤出-commit-区域" class="header-anchor">#</a> 撤销到 add 状态，即不改变修改的代码，仅仅撤出 commit 区域</h3> <ul><li><code>git reset --soft HEAD^</code></li></ul> <h3 id="直接撤销本次修改-会回退到上个本版的代码"><a href="#直接撤销本次修改-会回退到上个本版的代码" class="header-anchor">#</a> 直接撤销本次修改，会回退到上个本版的代码</h3> <ul><li><code>git reset --hard HEAD^</code></li></ul> <blockquote><p>可查看：https://www.jianshu.com/p/a9f327da3562</p></blockquote> <h2 id="git-反做某次提交"><a href="#git-反做某次提交" class="header-anchor">#</a> git 反做某次提交</h2> <ul><li>如果你有 commit1，commit2(最新)，但此时要回退commit1的内容，同时要保留commit2内容</li> <li><code>git revert -n 版本号</code> 需要回退的commit1版本号</li> <li>可能会有冲突，需要手动解决，要重新 git add</li> <li>然后正常 <code>git commit</code> 来生成一条记录，同时commit1改动的内容已经被取消了</li> <li>也可以你自己去手动把 commit1 改动的内容删除掉，<code>git revert</code> 可以理解为代替你做了这件事</li></ul> <h2 id="git修改-commit注释"><a href="#git修改-commit注释" class="header-anchor">#</a> git修改 commit注释</h2> <ul><li><code>git rebase -i HEAD~2</code> 会展示最近的两次提交注释,最后面的数字可更改
<ul><li>按键盘 <code>i</code> 键，进入编辑模式</li> <li>把你想要修改的注释的前面的 <code>pick</code> 更改为 <code>edit</code></li> <li>然后按 <code>esc</code> 退出编辑模式，再输入 <code>:wq</code> 保存并退出</li></ul></li> <li><code>git commit --amend</code> 开始编辑注释</li> <li><code>git rebase --continue</code></li> <li><code>git push --force origin master</code> 强制推送远程仓库，当然你也可以不强制</li></ul> <h2 id="git-push-某个特定的commit"><a href="#git-push-某个特定的commit" class="header-anchor">#</a> git push 某个特定的commit</h2> <ul><li><code>git push &lt;remotename&gt; &lt;commit SHA&gt;:&lt;remotebranchname&gt;</code> <ul><li><code>remotename</code> 远程仓库名，默认为 origin</li> <li><code>commit SHA</code> commit的id</li> <li><code>remotebranchname</code> 远程分支名</li> <li>例如：<code>git push origin 503edc5aaf:master</code></li></ul></li></ul> <blockquote><p>上面的命令会将暂存区内 <code>commit SHA</code> 代表的提交 <em><strong>以及其之前尚未推送到远程的提交一起提交到远程</strong></em></p></blockquote> <ul><li>如果想要通过上面命令推送一个指定的commit，就需要保证这个提交之前没有其他的提交了。如果不是，可以通过<code>git rebase i</code>改变提交的位置，使其之前没有其他提交
<ul><li><code>git rebase i</code> 会列出暂存区中所有未push的commit</li> <li>i键 进入编辑模式，光标定位到当前行，输入命令 <code>:m 0</code> 就会移入行首，然后输入 <code>:x</code> 退出</li> <li>最后通过上面的命令 push 这个特定的 commit</li> <li>参考：https://blog.csdn.net/u010730126/article/details/100743019</li></ul></li></ul> <h2 id="git-合并某个分支的某次-commit"><a href="#git-合并某个分支的某次-commit" class="header-anchor">#</a> git 合并某个分支的某次 commit</h2> <ul><li>例如：在 master分支想要合并 dev分支上的某次提交
<ul><li>切换到 dev分支，拷贝下来你想要被合并的 commitId</li> <li>切换到 master分支，执行 <code>git cherry-pick 62ecb3</code> 来进行操作</li></ul></li></ul> <h2 id="git-设置和取消代理"><a href="#git-设置和取消代理" class="header-anchor">#</a> git 设置和取消代理</h2> <blockquote><p>使用情况：当你 <code>git clone xxx</code> 时，由于天朝网络原因可能克隆不下来，就可以利用 ssr v2ray vpn 等工具
开启科学上网工具后，然后设置 git 代理，就会走代理，到外网去拉取资源</p></blockquote> <h3 id="查看代理"><a href="#查看代理" class="header-anchor">#</a> 查看代理</h3> <ul><li><code>git config --global --get http.proxy</code></li> <li><code>git config --global --get https.proxy</code></li></ul> <h3 id="开启代理"><a href="#开启代理" class="header-anchor">#</a> 开启代理</h3> <ul><li>开启 socks 代理
<ul><li><code>git config --global http.proxy 'socks5://127.0.0.1:10809'</code> 后面的 127.0.0.1:10809 就是指向科学上网工具的服务地址</li> <li><code>git config --global https.proxy 'socks5://127.0.0.1:10809'</code></li></ul></li> <li>开启 http/https 代理
<ul><li><code>git config --global http.proxy http://127.0.0.1:10809</code></li> <li><code>git config --global https.proxy http://127.0.0.1:10809</code></li></ul></li></ul> <h3 id="取消代理"><a href="#取消代理" class="header-anchor">#</a> 取消代理</h3> <ul><li><code>git config --global --unset http.proxy</code></li> <li><code>git config --global --unset https.proxy</code></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wangzhongyi1/checklist.html" class="prev">
        前端代码走查CHECKLIST
      </a></span> <span class="next"><a href="/wangzhongyi1/gitstandard.html">
        git 提交规范
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/wangzhongyi1/assets/js/app.c4a0ed2e.js" defer></script><script src="/wangzhongyi1/assets/js/2.c8cb3ded.js" defer></script><script src="/wangzhongyi1/assets/js/13.4845467c.js" defer></script>
  </body>
</html>
